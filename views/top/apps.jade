extends ../layout

block content
  div.header-board
    div.container
      h1.board-title Most profited games
  div.container(ng-controller='TopAppsCtrl')
    include ../includes/error-message
    hr
    div.table-responsive
      table.table.table-white.table-striped.table-bordered
        thead
          th.col-sm-6(ng-click='orderProp="-name"; reverse=!reverse') Game
          th(ng-click='orderProp="-profit"; reverse=!reverse') Accumulated user profit
          th(ng-click='orderProp="sold"; reverse=!reverse') Total items sold
        tbody
          tr(ng-repeat='app in apps | orderBy:orderProp:reverse', ng-cloak)
            td
              a(href='/app/{{ app._id }}') {{ app.name }}
            td {{ app.profit | currency }}
            td {{ app.sold | commaSeperate }}